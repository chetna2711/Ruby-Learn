<% if notice %>
  <p class="alert alert-info"><%= notice %></p>
<% elsif alert %>
  <p class="alert alert-danger"><%= alert %></p>
<% end %>

<div class="container mt-5">
    <% if student_signed_in? %>
      <div class="alert alert-info text-center d-flex align-items-center justify-content-between" role="alert">
        <p class="mb-0">Logged in as: <strong><%= current_student.email %></strong></p>
      
          <%= button_to "Logout", destroy_student_session_path, method: :delete, data: { confirm: 'Are you sure you want to log out?' }, class: 'btn btn-danger btn-md' %>
      
      </div>
  
  
    <% else %>
      <div class="alert alert-warning text-center" role="alert">
        <p class="mb-0">You are not logged in. Please log in or sign up to continue.</p>
      </div>
    <% end %>
  
    <!-- <div class="text-center mt-3 mb-4">
      <% if student_signed_in? %>
        <%= link_to 'Sign Up', new_student_registration_path, class: 'btn btn-success btn-lg me-3' %>
        <%= link_to 'Login', new_student_session_path, class: 'btn btn-primary btn-lg' %>
      <% end %>
    </div> -->


    <h1 class="text-center mb-4 display-7">Listing All Students</h1>
  <table class="table table-bordered">
    <thead class="text-center">
      <tr>
        <th scope="col">First Name</th>
        <th scope="col">Last Name</th>
        <th scope="col">Email</th>
        <th scope="col">Birth Date</th>
        <th scope="col">Contact No</th>
        <th scope="col">City</th>
        <th scope="col">State</th>
        <th scope="col">Country</th>
        <th scope="col" colspan="3">Actions</th>
      </tr>
    </thead>

    <div claas="card-deck">
    <tbody class="text-center">
      <% @students.each do |student| %>
        <tr>
          <td><%= student.first_name %></td>
          <td><%= student.last_name %></td>
          <td><%= student.email %></td>
          <td><%= student.birthdate %></td>
          <td><%= student.contact_no %></td>
          <td><%= student.city %></td>
          <td><%= student.state %></td>
          <td><%= student.country %></td>
          <td><%= link_to 'View', student, class: 'btn btn-info btn-sm' %></td>
          <td><%= link_to 'Edit', edit_student_path(student), class: 'btn btn-warning btn-sm' %></td>
          <td><%= button_to "Delete",student_path(student),method: :delete,class: 'btn btn-danger btn-sm', data: { confirm: "Are you sure you want to delete this student?", turbo_confirm: "Are you sure you want to delete this student?" } %></td>        
        </tr>
      <% end %>
    </tbody>
  </div>
  </table>
</div>
